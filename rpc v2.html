<!DOCTYPE html>
<head>
    
</head>
<body>
    <script>

//calculates computer's hand
    function computerPlay()
{
let randNum = Math.round(Math.random()*2)
switch (randNum) {
  case 0:
    return 'rock';
    break;
    case 1:
        return 'paper';
        break;
            case 2:
            return 'scissor';}
}

//gives a value to each outcome
function playRpc(computerSel,playerSel) {
    
    if (computerSel === 'rock' && playerSel === 'scissor')
    {   return 1;
    }  
    else if(computerSel === 'rock' && playerSel === 'paper')
    {  return 2;
        }
    else if (computerSel === 'paper' && playerSel === 'rock')
    {   return 3;
        }
    else if (computerSel === 'paper' && playerSel === 'scissor')
    {  return  4;
        }
    else if (computerSel === 'scissor' && playerSel === 'rock')
    {   return 5;
        }
    else if (computerSel === 'scissor' && playerSel === 'paper')
    {   return  6;
        }
    else {
        return  7;
        }
       
        }

//translates the outcome into a message
function resultMessage(result) {
switch (result) {
    case 1:
    return 'You lose, rock beats scissor haha!';
    break;
    case 2:
    return 'Nice pick, paper beats rock!';
    break;
    case 3:
    return 'You lose, paper beats rock haha!';
    break;
    case 4:
    return 'Nice pick, scissor beats paper!';
    break;
    case 5:
    return 'Nice pick, rock beats scissor!';
    break;
    case 6:
    return 'You lose, scissor beats paper haha!';
    break;
    case 7:
    return 'Draw game, play again.';
}
}

//calculates player score for turn
function playerCalc(result) {

if (result === 2 || result === 4 || result === 5) {
    return 1;}
    else {return 0; }
    }
//calculates computer score for turn    
function compCalc(result) {

if (result === 1 || result === 3 || result === 6) {
    return 1;}
    else {return 0; }
    }

//main program
function game() {

//round1
let roundCount = 1
let playerScore = 0
let computerScore = 0
let computerSel = computerPlay()
let playerInput
let playerSel

//handling inappropriate input
while (true) {
    playerInput = prompt('Choose your hand figure.')
    if (!playerInput) {continue};
    playerSel = playerInput.toLowerCase()
    console.log(playerSel)
    if (playerSel=='scissor' || playerSel=='rock' || playerSel=='scissor') {break;}
    else{alert('Choose either rock, paper or scissor.')}
}

console.log('Player\'s hand: ' + playerSel)
console.log('Computer\'s hand: ' + computerSel)

let result = playRpc(computerSel,playerSel)
console.log(resultMessage(result));
//console.log(result)
playerScore = playerScore + playerCalc(result);
computerScore = computerScore + compCalc(result);
//console.log(computerScore)
console.log('Result after turn ' + roundCount + ': \n Computer: ' + computerScore + '\n Player: ' + playerScore )

//round2
roundCount = roundCount + 1
computerSel = computerPlay()
playerSel = prompt('Choose your hand figure.').toLowerCase()
console.log('Player\'s hand: ' + playerSel)
console.log('Computer\'s hand: ' + computerSel)

result = playRpc(computerSel,playerSel)
console.log(resultMessage(result));
playerScore = playerScore + playerCalc(result);
computerScore = computerScore + compCalc(result);
console.log('Result after turn ' + roundCount + ': \n Computer: ' + computerScore + '\n Player: ' + playerScore )

//round3
roundCount = roundCount + 1
computerSel = computerPlay()
playerSel = prompt('Choose your hand figure.').toLowerCase()
console.log('Player\'s hand: ' + playerSel)
console.log('Computer\'s hand: ' + computerSel)

result = playRpc(computerSel,playerSel)
console.log(resultMessage(result));
playerScore = playerScore + playerCalc(result);
computerScore = computerScore + compCalc(result);
console.log('Result after turn ' + roundCount + ': \n Computer: ' + computerScore + '\n Player: ' + playerScore )

//round4
roundCount = roundCount + 1
computerSel = computerPlay()
playerSel = prompt('Choose your hand figure.').toLowerCase()
console.log('Player\'s hand: ' + playerSel)
console.log('Computer\'s hand: ' + computerSel)

result = playRpc(computerSel,playerSel)
console.log(resultMessage(result));
playerScore = playerScore + playerCalc(result);
computerScore = computerScore + compCalc(result);
console.log('Result after turn ' + roundCount + ': \n Computer: ' + computerScore + '\n Player: ' + playerScore )

//round5
roundCount = roundCount + 1
computerSel = computerPlay()
playerSel = prompt('Choose your hand figure.').toLowerCase()
console.log('Player\'s hand: ' + playerSel)
console.log('Computer\'s hand: ' + computerSel)

result = playRpc(computerSel,playerSel)
console.log(resultMessage(result));
playerScore = playerScore + playerCalc(result);
computerScore = computerScore + compCalc(result);
console.log('Result after turn ' + roundCount + ': \n Computer: ' + computerScore + '\n Player: ' + playerScore )

if(playerScore > computerScore) {
    console.log('Congrats, you are the winner!');}
    else if (playerScore < computerScore) {
        console.log('You lose. It\'s hard to beat such a fantastic AI, huh?!')}
        else console.log('Draw game.')
}
    </script>
</body>